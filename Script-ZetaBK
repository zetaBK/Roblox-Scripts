local Players = game:GetService("Players")
local lp = Players.LocalPlayer

local function preventRagdoll()
    local char = lp.Character
    if not char then return end
    local hum = char:FindFirstChildOfClass("Humanoid")
    if not hum then return end

    -- Disable PlatformStand to prevent ragdoll physics
    hum.PlatformStand = false

    -- Listen for state changes and prevent ragdoll states
    hum.StateChanged:Connect(function(oldState, newState)
        if newState == Enum.HumanoidStateType.Physics or newState == Enum.HumanoidStateType.FallingDown then
            hum:ChangeState(Enum.HumanoidStateType.GettingUp)
        end
    end)
end

-- Run once on script start
preventRagdoll()

-- Reapply on character respawn
lp.CharacterAdded:Connect(function(char)
    char:WaitForChild("Humanoid", 10)
    preventRagdoll()
end)
